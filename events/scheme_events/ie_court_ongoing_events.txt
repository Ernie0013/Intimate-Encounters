namespace = ie_court_ongoing

ie_court_ongoing.0001 = {
	type = character_event
	title = ie_court_ongoing.0001.t

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:giver = root
				}
				desc = ie_court_ongoing.0001.text_giving
			}
			desc = ie_court_ongoing.0001.text_receiving
		}
	}
	
	theme = romance_scheme
	left_portrait = {
		character = scope:portrait
		animation = flirtation
	}

	trigger = {
		OR = {
			scope:owner = { is_ai = no }
			scope:target = { is_ai = no }
		}
	}

	immediate = {
		if = {
			limit = { 
				scope:owner = { has_trait_submissive_trigger = yes }
			}
			scope:target = { save_scope_as = giver }
			scope:owner = { save_scope_as = receiver }
		}
		else = {
			scope:owner = { save_scope_as = giver }
			scope:target = { save_scope_as = receiver }
		}

		if = {
			limit = { scope:owner = root }
			scope:target = { save_scope_as = portrait }
		}
		else = {
			scope:owner = { save_scope_as = portrait }
		}
	}

	# Debug option
	option = {
		name = ie_court_ongoing.0001.debug
		trigger = {
			debug_only = yes
		}
		trigger_event = ie_court_ongoing.0001
	}

	option = {
		name = ie_court_ongoing.0001.a

		random_list = {
			10 = {
				reverse_add_opinion = {
					target = scope:target
					modifier = romance_opinion
					opinion = 15
				}
			}
			20 = {
				reverse_add_opinion = {
					target = scope:target
					modifier = romance_opinion
					opinion = 5
				}
			}
		}


		ai_chance = {
			base = 100
		}
	}
}